#!/usr/bin/env bash

echo "ğŸ”µ Deploying BLUE version..."
kubectl apply -f blue_deployment.yaml

echo "â³ Waiting for BLUE pods..."
sleep 5
kubectl get pods

echo "ğŸŸ¢ Deploying GREEN version..."
kubectl apply -f green_deployment.yaml

echo "â³ Waiting for GREEN pods..."
sleep 5
kubectl get pods

echo "ğŸ“„ Checking logs for GREEN deployment..."
GREEN_POD=$(kubectl get pods -l version=green -o jsonpath="{.items[0].metadata.name}")
kubectl logs $GREEN_POD

echo "âœ… Blue-Green deployment completed"
